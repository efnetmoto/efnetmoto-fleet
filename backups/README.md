# Backups Directory

This directory stores backup archives of bot data and configurations.

## Purpose

Backups contain all variable/runtime data needed to restore a bot to a working state:

- User databases (.user files)
- Channel databases (.chan files)
- Notes databases (.notes files)
- Docker Compose overrides (if they exist)
- Ansible variable overrides (if they exist)
- PISG cache, customizations, and output
- Eggdrop logs

## What's NOT Backed Up

The following are NOT included in backups as they're already version controlled:

- Generated configs (eggdrop.conf, pisg.cfg) - regenerated by Ansible
- README files
- Repository code and templates

## Backup Contents

Each backup contains the following structure:

```text
<botname>-backup-YYYY-MM-DD.tar.gz
├── data/                    # Bot runtime data
│   ├── <botname>.user
│   ├── <botname>.chan
│   └── <botname>.notes
├── overrides/               # Local customizations
│   ├── docker-compose.override.yml
│   └── overrides.yml
├── html/                    # Generated statistics (bot-specific)
│   └── ...                  # Sub-directories are preserved
├── logs/                    # IRC logs
│   └── ...                  # Sub-directories are preserved
├── pisg-cache/              # PISG processing cache (bot-specific)
└── pisg-config/             # PISG customizations (bot-specific)
```

## Important Notes

- All backup files in this directory are gitignored
- Backups may contain sensitive data (user passwords, channel keys)
- Store backups securely with appropriate permissions (0600)
- For backup and restore procedures, see the [Deployment Guide](../DEPLOYMENT.md)
